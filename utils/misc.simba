function GetJavaExecutable: String;
var
  Files: TStringArray;
begin
  {$IFDEF WINDOWS}
  Files := FindFile('C:\Program Files\Java\', 'java.exe') + FindFile('C:\Program Files (x86)\Java\', 'java.exe');
  if Length(Files) > 0 then
    Result := Files[0];
  {$ENDIF}

  if Result = '' then
    Result := 'java';
end;

